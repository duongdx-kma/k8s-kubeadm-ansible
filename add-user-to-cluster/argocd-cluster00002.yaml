apiVersion: v1
kind: Secret
metadata:
  name: cluster-minikube-local
  namespace: argocd
  labels:
    argocd.argoproj.io/secret-type: cluster
    environment: "staging"
    provider: "minikube"
type: Opaque
stringData:
  name: staging-minikube
  server: https://192.168.49.2:8443
  config: |
    {
      "tlsClientConfig": {
        "insecure": "false"
        "caData": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURCakNDQWU2Z0F3SUJBZ0lCQVRBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwdGFXNXAKYTNWaVpVTkJNQjRYRFRJME1EVXdNekE1TXpRd01Gb1hEVE0wTURVd01qQTVNelF3TUZvd0ZURVRNQkVHQTFVRQpBeE1LYldsdWFXdDFZbVZEUVRDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBS2hQCkk5QVlTZlNIVUpVa0xaM3NtTEhnRFk1NXlMVHMyd1k0STJNVGFKdVoxWFFtRkV2YXF4TFZYcXpCQnMxektmcXIKUGlkTXR0SW05OGc2YlkxSkdoa1cydHFjdmY1eUczMXBrQzFQSnZBQnNhYndjd3lOdmZYRG1wODg1UzlsNkRWRwpPbHZQbkhZbjltWjNXVXRWMXdSYkxFVmFNbUlhbkdwbE1XVGdEZ2NMYW96WDlpTXYrK3Q0VThwRGZWb2V1ZXNGClhIVFBNQkNmeEl6Y3BvSUZWNk94anRtTmhtSlpWNkdVeG00RjR5bUdTdHFnMW9acFpsNTB6ZFVRZVJHV3NuY0cKSHR6Q3NJS0xBWHJhZS8wM1l5ekpxVjR3VHFyY3lJVWRQek1wR3Z5WG9aeGtDUVFPaENYTmFhR0J3M2xOTUh0bwpWS3BYQi9HUGd1aXc3VGxxREpzQ0F3RUFBYU5oTUY4d0RnWURWUjBQQVFIL0JBUURBZ0trTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQjBHQTFVZERnUVcKQkJSSDdNdzJValdBOEcvSjlEMW92RHQ2YkdHekN6QU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FRRUFSaCtzYmZ6bgp0Nk5pS1BiVlFhMHNWd3pkWWRkQmdrQ3owYndiODRHcEZiRm40Q3lMNkZjSjJqczE0c2V1TFlENE0wb3NtVC9BCmFnTm05ajdNdlBFN3lIN0tGV1M5bTZGbEE4QlppNDNyYk9TbjJ6ZitiZ3YvYzZ6Y3lLQ3lJM1pvSWFJa3AvMXQKeGkyUkpmUUF6ZE9FcUcyYmY2MnI4eWwrdVdBTjhKNVZLK3FodDZmVnMyV2xBOElZWjlzemJzQ3A2QVhFQkJLNApYNHdiakhSNk94Y0M4WVIrRzVHc29DczlWaTROYzFtMloybndYMjdoa1VLcmdDUjdvSWJPZFdLZGhhWkJMTUIwCkJKRlluRjNJMGcyaXM0RmFycmtzNEQ2bnBDYWtib1h5bTNRT01RemxTTE1KMkxmaDR1ZnpjWUUrOCtGYUZ4YzYKSW1MV0hNaVIxS1Uxc1E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
        "certData": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURLakNDQWhLZ0F3SUJBZ0lRYnR2dkpZWDdSNHQ2TlRVazVaNHBrakFOQmdrcWhraUc5dzBCQVFzRkFEQVYKTVJNd0VRWURWUVFERXdwdGFXNXBhM1ZpWlVOQk1CNFhEVEkwTURVd05ERTRNREkwT1ZvWERUSTFNRFV3TkRFNApNREkwT1Zvd05URWlNQTBHQTFVRUNoTUdaR1YyYjNCek1CRUdBMVVFQ2hNS2JXRnBiblJoYVc1bGNqRVBNQTBHCkExVUVBeE1HWVhKbmIyTmtNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXBTb1cKOTk0SEt1NUZkZWhTTlZRYW1RUEJpUTcybHlaNFRYckZUWE5QRGN1M3RKbFdlTGVta2tIYkFpUEIvSE16N0pzTApjZkl1N0o5WHZkR1VoWXZYaXdVbEI2Z0xyOVJtak1XTXd1YjRtZGQ2clp4MG4yaUZNZVplV2ZuU05qcGdwNmUzCkpEbjBGaDhIdDIyRHRhS2Z3eWVibkhhS3BBQy85WmJUZGhsQ0R1bHk5L2xEQjQzYnlOMlc1VXNiYlQvUUNYQXUKMHFUZTlEU3RoblBVWWM0enNGVU1NL0RjUlhWWHhwU3FvRjg0dXFUQ3doQXAvY0ZNTU4xTHlnT05wQjFuVGxHUQp2bUh2T3ovZjFocUJpRUdTeDNQMFFZVGJRdTN5WThOTTl0VmVrOXhkelVZUnA5emwrV2lIY2wySzRjMUFOUi9hClZJSzZZQTNHZjdLcCtRMG15d0lEQVFBQm8xWXdWREFPQmdOVkhROEJBZjhFQkFNQ0JhQXdFd1lEVlIwbEJBd3cKQ2dZSUt3WUJCUVVIQXdJd0RBWURWUjBUQVFIL0JBSXdBREFmQmdOVkhTTUVHREFXZ0JSSDdNdzJValdBOEcvSgo5RDFvdkR0NmJHR3pDekFOQmdrcWhraUc5dzBCQVFzRkFBT0NBUUVBYTZZQWpqYThWenhCN01aMFVRVUx5NEN6CnRMVW9paWRvS0hWamlDMnU1WldNR1U1UE41K20reEhEVUMvaUU1eEFoakxlVWNpekV3bXVTL3NUaHRMYXFGRzcKRjdrcU0xOUMvUHR2dkZzWTYrQXdmRUJFdzJ5TmFTc1RSVmxNVlQ0UmxoMzRHRmlQM3kwQXBub1I3WktJaGljYgpSNXdJeUorc0RHOUZrTW8rYW5EbGpyRFB6MnJuTDRkMlhVUTZ1eVFkblFyNFhwNjFqYjQ0K0paN2JZSzhHUmIzCkowZFl4ZHZFbGYvVmIwemJyb1Bxa21SU28xaW5yTXpTV0tLcHBaNmRyb0FKUEVTU0ZwNU85bklSQ1U4TktXbU4KVEh0WFc2all2WGFpQXcrZWlyZGFXUVVBUTJ0WWlYTUdBTU01OHV3TDB3NjBydEsxRTF1Sml2MndGb0xjUGc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
        "keyData": "LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2QUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktZd2dnU2lBZ0VBQW9JQkFRQ2xLaGIzM2djcTdrVjEKNkZJMVZCcVpBOEdKRHZhWEpuaE5lc1ZOYzA4Tnk3ZTBtVlo0dDZhU1Fkc0NJOEg4Y3pQc213dHg4aTdzbjFlOQowWlNGaTllTEJTVUhxQXV2MUdhTXhZekM1dmlaMTNxdG5IU2ZhSVV4NWw1WitkSTJPbUNucDdja09mUVdId2UzCmJZTzFvcC9ESjV1Y2RvcWtBTC8xbHROMkdVSU82WEwzK1VNSGpkdkkzWmJsU3h0dFA5QUpjQzdTcE43ME5LMkcKYzlSaHpqT3dWUXd6OE54RmRWZkdsS3FnWHppNnBNTENFQ245d1V3dzNVdktBNDJrSFdkT1VaQytZZTg3UDkvVwpHb0dJUVpMSGMvUkJoTnRDN2ZKancwejIxVjZUM0YzTlJoR24zT1g1YUlkeVhZcmh6VUExSDlwVWdycGdEY1ovCnNxbjVEU2JMQWdNQkFBRUNnZ0VBQWdNcHhYcGNqdjdaTk04UVZWc0JlZlRNUWwyK3ptZW5GcGFVMmRVNlZOb3oKRWsyOStubU9XNERXNk1kRHdVNHNCMGw2VWJpWUxzVGdQazFUNkc2a1FTcmVZU0lBaG5OcGpuU0h1d1l5YURseQpZclFoemFGcDRncERBd2lpc1l0eml3ZGxtVmpsYXZHVTEvekxHb2J4T0dEK3FlRGQzcEt0eEJIQzRORDg5NDZHCmpwSkV5ckhIVTZIN0t2dUhGQXJYL0U1eU1aTFIvdkxTWnZvL0ovald5WXdXUGdaTE9hd1FTcFBaQk5DMHpDalgKcStaRVdkODJpaWVmY2V1cys4am9lamMxazNVU0tvRUpCUzhZaXZTSkhoMlIwamxJSlkxTm42bWhzQjRLdVdvQgpsYlZBZ3g4d3dKVjNDTjcxME9YUGVlV0Ixd24wRUFBTnBZckpDVURROVFLQmdRRG4yaGdJR1B5Q3NReUcxSmkyCjJSTW1xRUtmZlM0enk3UGxHaHJmSzlVeHBBazNYQW9pY29IRm5hajdVNVIxK0tPU2VLcy9HUmRxOTlwU3hpQlkKZ0JIT0JqVmFCVTlBNXhwMkp4dFNlWU9uWm15N3dWcWdnNkk1WU16Ym9iZ200NVFrM09wb3dzNWJqWXkzMUMzOApadUZhTE40R1hSS1d3S05kYlJHcEJNKzR6UUtCZ1FDMlhlVklGcDdPZGlLUE1mb0hHZVBnVUlkVUJDL0xJZFF2CjRhUEdma1VSVUNUSkd3NDljUk5TZWFya2Q2NHc3V2EyaW43M1dpU3l4eVZueE5uSDFCY09hL1VxenFxYk9wZ0YKR3RlRVVqUUpvSnVFM3JXU2ZDVmF4QXNDVXgzbzFiZnp4OXExSGpnWlVrMGJBd1EzS1hMQWRLQXJVTXF0TE95SApCTFJmLy8wOTl3S0JnQWZwOU5vSjZFeVp1SUM5cnZ6R3loV090cjkwNldmUk16SEZ3MWNNeXZrbnpUeTdnb2tNCmVZdUNSeXRVL2dOTTJtQjhoL1BlYW1NM1ZKZHd0ZGZ2Znl3V0lDb1RkbElUMFY1cEZWQ3FYeWtPb1BXRHN4RTUKalFjQ1c5dS9XR2JUYTlJYVRGSUpIRHdaeDh6YWpEdEtVN1RkUlRMWWFITUcza3lwRldvOGhNNmRBb0dBUlN2VQpQY1dtc3JVSVlyd1lFLzF6KzY5UHhVUlpSSGt1WElML2RkaUxKZ2Y2Qy9XaEx4am10VS9FekNmQkFIbnJqYTEyCmZ5Zkg1NisxdG1ocUdtdU4yMENEbTVzTUJ4andkRzg3ODhxaVJreU84SlR3MWdFVXdocTkra0hBaElJYjVmR1cKT1VDZkVxdXU1Mkg3aFZqSlY4cGt2a2xFdHU3bFFFaytpWE0xZ1AwQ2dZQldWVHJuZHBvdlg2R2RTaTF4WlNYMApmeXR5MmRMVS96R3lkdm9HVGthUjk5ejQ3RWttSFlMdlVZWVFSMTlIUUFXMHJ3a1RTaHgvb2pCTGc4VHVYZzNMCnNJZC8yaklTNU9sZ2NnZUdFRDQwOU5MY2R0RlpvNkplV2xMcnhWK3dneGZnKzBDNTNHM2dYb1RNSnRZOThaY1UKU09tUDFUL2RyS1o4cGJjM0hvL3prZz09Ci0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0K" 
      }
    }


# add user:
# kubectl config set-credentials minikube-staging --client-key=cert/argocd.key --client-certificate=cert/argocd.crt --embed-certs=true

# add cluster:
# kubectl config set-cluster minikube-staging --server=https://192.168.49.2:8443 --certificate-authority=/tmp/data/argocd/cert/ca.crt

# add context:
# kubectl config set-context minikube-staging --cluster=minikube-staging --user=minikube-staging

# use context:
# kubectl config use-context minikube-staging